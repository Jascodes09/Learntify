<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Learntify — Register</title>
  <style>
    body { font-family: sans-serif; background:#f9fafb; margin:0; padding:20px; }
    .container { max-width:420px; margin:auto; background:#fff; padding:20px; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
    h2 { text-align:center; }
    .role-group { display:flex; justify-content:space-around; margin:12px 0; }
    .role { flex:1; text-align:center; padding:12px; border:2px solid #ddd; border-radius:10px; cursor:pointer; margin:0 4px; }
    .role.active { border-color:#2563eb; background:#eff6ff; }
    input,button { width:100%; padding:14px; margin:10px 0; border-radius:10px; border:1px solid #ddd; font-size:15px; }
    button { background:#2563eb; color:#fff; font-weight:600; border:none; cursor:pointer; }
    .small { text-align:center; font-size:14px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Register</h2>

    <div class="role-group">
      <div class="role" data-role="student">👩‍🎓 Student</div>
      <div class="role" data-role="teacher">👨‍🏫 Teacher</div>
      <div class="role" data-role="parent">👩‍👧 Parent</div>
    </div>
    <input type="hidden" id="roleInput" />

    <input type="text" id="name" placeholder="👤 Full Name" />
    <input type="email" id="email" placeholder="📧 Email" />
    <input type="password" id="password" placeholder="🔑 Password" />

    <button id="registerBtn">Register</button>
    <div class="small"><a href="login.html">Already have an account? Login</a></div>
  </div>

  <script>
    const roles = document.querySelectorAll('.role');
    const roleInput = document.getElementById('roleInput');

    roles.forEach(r => r.addEventListener('click', () => {
      roles.forEach(el => el.classList.remove('active'));
      r.classList.add('active');
      roleInput.value = r.dataset.role;
    }));

    document.getElementById('registerBtn').addEventListener('click', () => {
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const role = roleInput.value;

      if (!email || !password || !role) {
        alert("Please fill all fields and select a role.");
        return;
      }

      // Fake register -> store in localStorage
      let users = JSON.parse(localStorage.getItem("users")) || {};
      if (users[email]) {
        alert("User already exists!");
        return;
      }

      users[email] = {
        name, role, password,
        enrolledCourses: [],
        progress: {}
      };

      localStorage.setItem("users", JSON.stringify(users));
      alert("Registration successful!");
      window.location.href = "login.html";
    });
  </script>
</body>
</html>
